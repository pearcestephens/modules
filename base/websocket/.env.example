# Ecigdis Chat WebSocket Server Configuration
# Copy this to .env and customize for your environment

# ========================================
# SERVER CONFIGURATION
# ========================================

# Port the WebSocket server will listen on
WS_PORT=8080

# Host to bind to (0.0.0.0 = all interfaces, localhost = local only)
WS_HOST=0.0.0.0

# Environment: development, staging, production
NODE_ENV=production

# Enable HTTPS/WSS (requires SSL certificates)
USE_HTTPS=false
CERT_PATH=/etc/ssl/certs/server.crt
KEY_PATH=/etc/ssl/private/server.key

# ========================================
# REDIS CONFIGURATION (for pub/sub and scaling)
# ========================================

# Redis host (can be same machine or remote Redis server)
REDIS_HOST=127.0.0.1
REDIS_PORT=6379

# Redis password (if required)
REDIS_PASSWORD=

# ========================================
# CORS CONFIGURATION (allowed origins)
# ========================================

# Comma-separated list of allowed origins
# These should match your main CIS site URLs
CORS_ORIGINS=https://staff.vapeshed.co.nz,http://localhost:3000

# ========================================
# MAIN SITE CONFIGURATION
# ========================================

# URL of main CIS site (for token verification)
MAIN_SITE_URL=https://staff.vapeshed.co.nz

# JWT Secret for token verification (should match main site)
JWT_SECRET=your-jwt-secret-key-change-this

# ========================================
# LOGGING
# ========================================

# Log level: debug, info, warn, error
LOG_LEVEL=info

# ========================================
# DEPLOYMENT EXAMPLES
# ========================================

# EXAMPLE 1: Local Development
# WS_PORT=8080
# WS_HOST=localhost
# NODE_ENV=development
# MAIN_SITE_URL=http://localhost/api
# CORS_ORIGINS=http://localhost:3000

# EXAMPLE 2: Production on Same Machine
# WS_PORT=8080
# WS_HOST=0.0.0.0
# NODE_ENV=production
# USE_HTTPS=true
# MAIN_SITE_URL=https://staff.vapeshed.co.nz
# CORS_ORIGINS=https://staff.vapeshed.co.nz

# EXAMPLE 3: Production on Different Machine
# WS_PORT=8080
# WS_HOST=0.0.0.0
# NODE_ENV=production
# USE_HTTPS=true
# MAIN_SITE_URL=https://staff.vapeshed.co.nz
# REDIS_HOST=redis.ecigdis.co.nz
# REDIS_PORT=6379
# CORS_ORIGINS=https://staff.vapeshed.co.nz

# EXAMPLE 4: Scaled Setup with External Redis
# WS_PORT=8080
# WS_HOST=0.0.0.0
# NODE_ENV=production
# USE_HTTPS=true
# REDIS_HOST=redis.internal.ecigdis.co.nz
# REDIS_PORT=6379
# REDIS_PASSWORD=your-redis-password
# MAIN_SITE_URL=https://staff.vapeshed.co.nz
# CORS_ORIGINS=https://staff.vapeshed.co.nz,https://www.vapeshed.co.nz
