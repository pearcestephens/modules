# =============================================================================
# CIS CONTROL PANEL - BACKUP CONFIGURATION
# =============================================================================

# -----------------------------------------------------------------------------
# CURRENT ENVIRONMENT
# -----------------------------------------------------------------------------
APP_ENV=production              # Options: production, staging, development

# -----------------------------------------------------------------------------
# BACKUP RETENTION & COMPRESSION
# -----------------------------------------------------------------------------
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESS=true

# -----------------------------------------------------------------------------
# OFFSITE BACKUP CONFIGURATION (DISABLED BY DEFAULT)
# -----------------------------------------------------------------------------
BACKUP_OFFSITE_ENABLED=false
BACKUP_OFFSITE_TYPE=s3          # Options: s3, ftp, sftp, rsync
BACKUP_KEEP_LOCAL=true          # Keep local copy after offsite upload

# -----------------------------------------------------------------------------
# AMAZON S3 (or compatible service like Wasabi, DigitalOcean Spaces)
# -----------------------------------------------------------------------------
BACKUP_S3_BUCKET=cis-backups
BACKUP_S3_REGION=ap-southeast-2
BACKUP_S3_KEY=your-access-key-here
BACKUP_S3_SECRET=your-secret-key-here
BACKUP_S3_ENDPOINT=                 # Optional: for S3-compatible services

# -----------------------------------------------------------------------------
# FTP/SFTP CONFIGURATION
# -----------------------------------------------------------------------------
BACKUP_FTP_HOST=backup.example.com
BACKUP_FTP_PORT=21                  # 21 for FTP, 22 for SFTP
BACKUP_FTP_USER=backup_user
BACKUP_FTP_PASS=secure_password
BACKUP_FTP_PATH=/backups/cis
BACKUP_FTP_SSL=true                 # Use FTPS (FTP over SSL)

# -----------------------------------------------------------------------------
# RSYNC CONFIGURATION (SSH-based)
# -----------------------------------------------------------------------------
BACKUP_RSYNC_HOST=backup.example.com
BACKUP_RSYNC_USER=backup_user
BACKUP_RSYNC_PATH=/backup/cis
BACKUP_RSYNC_KEY=/home/user/.ssh/id_rsa    # SSH private key path

# =============================================================================
# CONFIGURATION EXAMPLES BY STORAGE TYPE
# =============================================================================

# üîµ CURRENT SETUP: ONSITE ONLY (RECOMMENDED FOR NOW)
# BACKUP_OFFSITE_ENABLED=false
# BACKUP_RETENTION_DAYS=30

# Example 1: AWS S3 (enable when ready)
# BACKUP_OFFSITE_ENABLED=true
# BACKUP_OFFSITE_TYPE=s3
# BACKUP_KEEP_LOCAL=true
# BACKUP_S3_BUCKET=vapeshed-cis-backups
# BACKUP_S3_REGION=ap-southeast-2
# BACKUP_S3_KEY=AKIA...
# BACKUP_S3_SECRET=...

# Example 2: OFFSITE ONLY (no local retention - not recommended)
# BACKUP_OFFSITE_ENABLED=true
# BACKUP_KEEP_LOCAL=false

# Example 3: BOTH ONSITE + OFFSITE (safest)
# BACKUP_OFFSITE_ENABLED=true
# BACKUP_KEEP_LOCAL=true
# BACKUP_OFFSITE_TYPE=sftp
# BACKUP_FTP_HOST=offsite-backup.server.com
# BACKUP_FTP_PORT=22
# BACKUP_FTP_USER=cisbackup
# BACKUP_FTP_PASS=...

# Example 4: RSYNC TO DEDICATED BACKUP SERVER
# BACKUP_OFFSITE_ENABLED=true
# BACKUP_OFFSITE_TYPE=rsync
# BACKUP_KEEP_LOCAL=true
# BACKUP_RSYNC_HOST=backup-server.internal
# BACKUP_RSYNC_USER=backup
# BACKUP_RSYNC_PATH=/mnt/backups/cis
# BACKUP_RSYNC_KEY=/root/.ssh/backup_key

# =============================================================================
# ENVIRONMENT SYNC CONFIGURATION (DISABLED BY DEFAULT)
# =============================================================================

# -----------------------------------------------------------------------------
# SYNC SETTINGS
# -----------------------------------------------------------------------------
SYNC_ENABLED=false                      # Enable/disable environment sync
SYNC_SANITIZE_PII=true                  # Sanitize sensitive data when syncing
SYNC_EXCLUDE_TABLES=sessions,logs,cache # Tables to skip

# -----------------------------------------------------------------------------
# DEVELOPMENT ENVIRONMENT
# -----------------------------------------------------------------------------
DEV_DB_HOST=localhost
DEV_DB_NAME=cis_dev
DEV_DB_USER=cis_dev_user
DEV_DB_PASS=dev_password
DEV_PATH=/var/www/dev.staff.vapeshed.co.nz

# -----------------------------------------------------------------------------
# STAGING ENVIRONMENT
# -----------------------------------------------------------------------------
STAGING_DB_HOST=staging.server.local
STAGING_DB_NAME=cis_staging
STAGING_DB_USER=cis_staging_user
STAGING_DB_PASS=staging_password
STAGING_PATH=/var/www/staging.staff.vapeshed.co.nz

# -----------------------------------------------------------------------------
# PRODUCTION ENVIRONMENT
# -----------------------------------------------------------------------------
PROD_DB_HOST=production.server.local
PROD_DB_NAME=cis_production
PROD_DB_USER=cis_prod_user
PROD_DB_PASS=prod_password
PROD_PATH=/var/www/staff.vapeshed.co.nz

# =============================================================================
# SYNC SAFETY RULES
# =============================================================================
# ‚ö†Ô∏è  IMPORTANT SAFETY NOTES:
# 1. Cannot sync TO production without force_prod=true flag
# 2. Always test with dry_run=true first
# 3. PII sanitization enabled by default (emails, passwords, etc.)
# 4. Excluded tables (sessions, logs, cache) are never synced
# 5. Always backup before syncing

# =============================================================================
# DOCUMENTATION BUILDER CONFIGURATION (DISABLED BY DEFAULT)
# =============================================================================

# -----------------------------------------------------------------------------
# DOCUMENTATION SETTINGS
# -----------------------------------------------------------------------------
DOCS_AUTO_GENERATE=false            # Auto-generate docs on module changes
DOCS_INCLUDE_API=true               # Include API endpoint documentation
DOCS_INCLUDE_DB_SCHEMA=true         # Include database schema documentation
DOCS_INCLUDE_CODE_EXAMPLES=true     # Include code examples in docs
