{
  "generated": "2025-10-13T15:16:53.912Z",
  "entries": [
    {
      "path": "_copilot/MODULES/consignments/README.md",
      "title": "consignments - README",
      "headings": [
        "Consignments Module",
        "Overview",
        "Statistics",
        "Key Files",
        "Quick Start",
        "Related Documentation"
      ],
      "tags": [
        "modules",
        "consignments",
        "documentation"
      ],
      "snippets": [
        "Transfer and inventory management system with pack/receive operations.",
        "**Module Path:** `./${moduleName}/`",
        "**Module Type:** Full-stack MVC"
      ],
      "mtime": 1760368613
    },
    {
      "path": "_copilot/MODULES/consignments/controllers.md",
      "title": "consignments - controllers",
      "headings": [
        "Consignments Module - Controllers",
        "Controller Files"
      ],
      "tags": [
        "modules",
        "consignments",
        "documentation"
      ],
      "snippets": [
        "- `controllers/Api/PackApiController.php`",
        "- `controllers/Api/ReceiveApiController.php`",
        "- `controllers/HomeController.php`"
      ],
      "mtime": 1760368613
    },
    {
      "path": "_copilot/MODULES/consignments/data-flows.md",
      "title": "consignments - data-flows",
      "headings": [
        "Consignments Module - Data Flows",
        "Overview"
      ],
      "tags": [
        "modules",
        "consignments",
        "documentation"
      ],
      "snippets": [
        "Documentation for consignments module data flows.",
        "**Last Updated:** 2025-10-13 15:16:53 UTC",
        "---"
      ],
      "mtime": 1760368613
    },
    {
      "path": "_copilot/MODULES/consignments/routes.md",
      "title": "consignments - routes",
      "headings": [
        "Consignments Module - Routes",
        "API Endpoints",
        "Route Files"
      ],
      "tags": [
        "modules",
        "consignments",
        "documentation"
      ],
      "snippets": [
        "- `api/add_line.php`",
        "- `api/autosave.php`",
        "- `api/autosave_load.php`"
      ],
      "mtime": 1760368613
    },
    {
      "path": "_copilot/MODULES/consignments/templates.md",
      "title": "consignments - templates",
      "headings": [
        "Consignments Module - Templates",
        "Overview"
      ],
      "tags": [
        "modules",
        "consignments",
        "documentation"
      ],
      "snippets": [
        "Documentation for consignments module templates.",
        "**Last Updated:** 2025-10-13 15:16:53 UTC",
        "---"
      ],
      "mtime": 1760368613
    },
    {
      "path": "_copilot/MODULES/consignments/testing-notes.md",
      "title": "consignments - testing-notes",
      "headings": [
        "Consignments Module - Testing Notes",
        "Overview"
      ],
      "tags": [
        "modules",
        "consignments",
        "documentation"
      ],
      "snippets": [
        "Documentation for consignments module testing notes.",
        "**Last Updated:** 2025-10-13 15:16:53 UTC",
        "---"
      ],
      "mtime": 1760368613
    },
    {
      "path": "_copilot/MODULES/consignments/views.md",
      "title": "consignments - views",
      "headings": [
        "Consignments Module - Views",
        "View Files"
      ],
      "tags": [
        "modules",
        "consignments",
        "documentation"
      ],
      "snippets": [
        "- `templates/base-transfer.php`",
        "- `views/home/index.php`",
        "- `views/hub/index.php`"
      ],
      "mtime": 1760368613
    },
    {
      "path": "docs/BOOTSTRAP_GUIDE.md",
      "title": "BOOTSTRAP_GUIDE",
      "headings": [
        "üöÄ CIS Module Bootstrap Guide",
        "How to Properly Load app.php and Use Templates",
        "‚ö†Ô∏è Critical Rule: Load app.php ONCE",
        "‚úÖ CORRECT Pattern",
        "‚ùå WRONG Patterns",
        "Don't load app.php in every file:",
        "Don't load app.php in templates:",
        "üìã What app.php Should Contain",
        "üó∫Ô∏è Request Flow Diagram",
        "üîç Debugging Bootstrap Issues",
        "Problem: \"HTTPS_URL constant not defined\"",
        "Problem: \"Session not started\"",
        "Problem: \"Call to undefined function getUserInformation()\"",
        "Problem: \"Headers already sent\" (session issues)",
        "üìù Template Prerequisites Checklist",
        "üéØ Module Entry Point Template",
        "‚úÖ Quick Verification",
        "üö® Common Mistakes to Avoid",
        "üìö Related Documentation"
      ],
      "tags": [
        "docs",
        "documentation"
      ],
      "snippets": [
        "**Last Updated:** October 12, 2025",
        "**Purpose:** Prevent bootstrap errors and ensure proper initialization order",
        "---"
      ],
      "mtime": 1760281022
    },
    {
      "path": "docs/CODING_STANDARDS.md",
      "title": "CODING_STANDARDS",
      "headings": [
        "üèÜ CIS Modules: Enterprise Coding Standards",
        "üìã Table of Contents",
        "Core Principles",
        "Golden Rules",
        "Quality Metrics",
        "PHP Standards",
        "PSR Compliance",
        "File Structure",
        "Naming Conventions",
        "Type Declarations",
        "Error Handling",
        "Security Requirements",
        "Input Validation",
        "Output Escaping",
        "SQL Injection Prevention",
        "CSRF Protection",
        "Authentication & Authorization",
        "Content Security Policy",
        "Architecture Patterns",
        "MVC Structure",
        "Dependency Injection",
        "Single Responsibility Principle",
        "View Layer Standards",
        "Separation of Concerns",
        "Component Pattern",
        "No Business Logic",
        "JavaScript Standards",
        "Modern ES6+ Syntax",
        "Event Delegation",
        "Error Handling",
        "Database Standards",
        "Schema Design",
        "Query Optimization",
        "Testing Requirements",
        "Unit Tests",
        "Integration Tests",
        "Documentation Standards",
        "File Headers",
        "Method Documentation",
        "Performance Standards",
        "Response Time Targets",
        "Optimization Requirements",
        "Deployment & Git Standards",
        "Branch Strategy",
        "Commit Messages",
        "Pull Request Requirements",
        "Code Review Checklist",
        "Security",
        "Architecture",
        "Code Quality",
        "Testing",
        "Documentation",
        "Performance",
        "Enforcement",
        "Automated Checks (CI/CD)",
        ".github/workflows/ci.yml",
        "Pre-commit Hooks",
        ".git/hooks/pre-commit",
        "References",
        "Version History"
      ],
      "tags": [
        "docs",
        "documentation"
      ],
      "snippets": [
        "**Version:** 2.0",
        "**Effective Date:** October 12, 2025",
        "**Scope:** All modules within `/public_html/modules/`"
      ],
      "mtime": 1760271309
    },
    {
      "path": "docs/ERROR_HANDLER_GUIDE.md",
      "title": "ERROR_HANDLER_GUIDE",
      "headings": [
        "Enterprise Error Handler - Usage Guide",
        "üéØ Quick Start",
        "**Basic Setup (Development)**",
        "**Production Setup**",
        "üî• Features",
        "**1. Beautiful Debug Screen** (Development Mode)",
        "**2. User-Friendly Production Screen**",
        "**3. Comprehensive Logging**",
        "**4. Context System**",
        "üìñ Usage Examples",
        "**Example 1: Module Initialization**",
        "**Example 2: With Database Context**",
        "**Example 3: API Debugging**",
        "**Example 4: Custom Error Pages**",
        "üé® What You See in Debug Mode",
        "**Error Header**",
        "**Stack Trace**",
        "**Context Information** (if added)",
        "**Request Information**",
        "**Environment**",
        "üîç What You See in Production Mode",
        "üìù Log File Format",
        "üõ†Ô∏è Configuration",
        "**Environment Variables**",
        ".env file",
        "**PHP Code**",
        "üéØ Best Practices",
        "**DO:**",
        "**DON'T:**",
        "üîê Security Notes",
        "üöÄ Integration with Existing Code",
        "**Replace Old Handler**",
        "**No Breaking Changes**",
        "üìä Performance Impact",
        "üêõ Debugging Tips",
        "**1. Add Context Early**",
        "**2. Catch and Re-throw**",
        "**3. Use Error IDs**",
        "‚úÖ Acceptance Criteria"
      ],
      "tags": [
        "docs",
        "documentation"
      ],
      "snippets": [
        "```php",
        "<?php",
        "use Modules\\Core\\ErrorHandler;"
      ],
      "mtime": 1760273315
    },
    {
      "path": "docs/QUALITY_TOOLS.md",
      "title": "QUALITY_TOOLS",
      "headings": [
        "CIS Modules Quality & Standards",
        "üìö Documentation",
        "üõ† Quality Tools",
        "PHP CS Fixer (PSR-12 Enforcement)",
        "Check code style violations",
        "Auto-fix code style",
        "Check specific file",
        "PHPStan (Static Analysis)",
        "Analyze entire codebase (level 5)",
        "Analyze specific module",
        "Generate baseline (ignore existing issues)",
        "Quality Report",
        "Generate comprehensive quality report",
        "üîç Pre-commit Hooks",
        "Install hook (one-time setup)",
        "Hook runs automatically on git commit",
        "üìä Quality Metrics",
        "Current Targets",
        "üöÄ Quick Start",
        "1. Install Dependencies",
        "2. Run Quality Checks",
        "Full quality suite",
        "Individual checks",
        "3. Fix Issues",
        "Auto-fix code style",
        "Review PHPStan errors manually",
        "üîê Security Standards",
        "Critical Rules",
        "üìù Git Workflow",
        "Branch Naming",
        "Commit Messages",
        "Pull Request Checklist",
        "üêõ Troubleshooting",
        "PHPStan Errors",
        "View detailed error",
        "Generate baseline to track improvements",
        "Code Style Failures",
        "See what will be changed",
        "Apply fixes",
        "Pre-commit Hook Blocking",
        "Bypass hook for emergency commits only",
        "Then fix and commit properly",
        "üìñ Resources",
        "üÜò Support"
      ],
      "tags": [
        "docs",
        "documentation"
      ],
      "snippets": [
        "This directory contains coding standards, quality tools, and enforcement configurations.",
        "- **[CODING_STANDARDS.md](./CODING_STANDARDS.md)** - Complete coding standards guide",
        "- **[ARCHITECTURE.md](./architecture/)** - System architecture documentation"
      ],
      "mtime": 1760271310
    },
    {
      "path": "docs/TEMPLATE_ARCHITECTURE.md",
      "title": "TEMPLATE_ARCHITECTURE",
      "headings": [
        "CIS Modules - Template Architecture",
        "üéØ **Overview**",
        "üìÅ **File Structure**",
        "üèóÔ∏è **How It Works**",
        "**1. Master Template (wrapper)**",
        "‚úÖ **Key Principles**",
        "**1. DRY (Don't Repeat Yourself)**",
        "**2. Single Source of Truth**",
        "**3. Separation of Concerns**",
        "üìñ **Usage Examples**",
        "**Example 1: Simple Module Page**",
        "**Example 2: With Module-Specific CSS/JS**",
        "**Example 3: Using PageController**",
        "üîß **Template Variables**",
        "**Required:**",
        "**Optional:**",
        "üé® **Asset Management**",
        "**Global Assets (Stay in /assets/)**",
        "**Module-Specific Assets**",
        "üîê **Security**",
        "**Context Check:**",
        "**Safe Variable Extraction:**",
        "**Output Escaping:**",
        "üìä **Benefits**",
        "‚úÖ **Checklist for New Modules**",
        "üö´ **Anti-Patterns (DON'T DO THIS)**",
        "**‚ùå Don't recreate the UI:**",
        "**‚ùå Don't hardcode navigation:**",
        "**‚úÖ Do this instead:**",
        "üéØ **Summary**",
        "üìö **Related Documentation**"
      ],
      "tags": [
        "docs",
        "documentation"
      ],
      "snippets": [
        "**Date:** October 12, 2025",
        "**Status:** ‚úÖ PRODUCTION READY",
        "---"
      ],
      "mtime": 1760273317
    },
    {
      "path": "docs/analysis/module-analysis.md",
      "title": "module-analysis",
      "headings": [
        "Module Analysis Report",
        "consignments"
      ],
      "tags": [
        "docs",
        "documentation"
      ],
      "snippets": [
        "**Generated**: 2025-10-12 19:19:24",
        "- **Files**: 164",
        "- **API Endpoints**: 9"
      ],
      "mtime": 1760249964
    },
    {
      "path": "docs/api/consignments.md",
      "title": "consignments",
      "headings": [
        "consignments Module - API Documentation",
        "Base URL",
        "Client Contract: Idempotency & Redirects",
        "Endpoints",
        "add_line",
        "autosave",
        "autosave_load",
        "pack_lock",
        "pack_submit",
        "receive_submit",
        "remove_line",
        "search_products",
        "update_line_qty"
      ],
      "tags": [
        "docs",
        "documentation"
      ],
      "snippets": [
        "**Generated**: 2025-10-12 19:19:24",
        "**Module**: consignments",
        "**Endpoints**: 9"
      ],
      "mtime": 1760302498
    },
    {
      "path": "docs/architecture/dependency-map.md",
      "title": "dependency-map",
      "headings": [
        "Dependency Map",
        "consignments",
        "inventory"
      ],
      "tags": [
        "docs",
        "documentation"
      ],
      "snippets": [
        "**Generated**: 2025-10-12 19:19:24",
        "**Dependencies**: core, shared",
        "**Dependencies**: core, consignments"
      ],
      "mtime": 1760249964
    },
    {
      "path": "docs/database/shipping-outlet-config.md",
      "title": "shipping-outlet-config",
      "headings": [
        "Transfer System Shipping & Outlet Configuration",
        "NZ Post Integration Fields",
        "Per-Outlet Shipping Configuration",
        "Complete Address Data",
        "Full Outlet Address Query",
        "Transfer System Address Usage",
        "From/To Address Resolution",
        "Address Formatting Functions",
        "NZ Address Format",
        "Shipping Label Data",
        "API Integration Requirements",
        "NZ Post API Usage",
        "Google Services Integration",
        "Validation Rules",
        "Address Completeness Check",
        "Critical Notes"
      ],
      "tags": [
        "docs",
        "documentation"
      ],
      "snippets": [
        "**Updated:** October 12, 2025",
        "**Context:** Critical shipping fields for transfer operations",
        "```sql"
      ],
      "mtime": 1760293731
    },
    {
      "path": "docs/database/vend-schema-reference.md",
      "title": "vend-schema-reference",
      "headings": [
        "CIS Database Schema Documentation",
        "Core Vend Tables for Transfer System",
        "1. `vend_products` Table",
        "2. `vend_inventory` Table",
        "3. `vend_outlets` Table",
        "4. vend_outlets",
        "Complete Schema:",
        "Query Pattern:",
        "4. `vend_suppliers` Table",
        "5. `vend_brands` Table",
        "Critical Product Search Queries",
        "Current Search Function (FIXED)",
        "Transfer System Queries",
        "Get Transfer Details",
        "Get Transfer Items with Product Details",
        "Add Transfer Line",
        "Product Search with Stock",
        "Performance Indexes",
        "Key Indexes for Transfer Queries",
        "Query Optimization Notes",
        "Common Mistakes to Avoid",
        "Schema Validation"
      ],
      "tags": [
        "docs",
        "documentation"
      ],
      "snippets": [
        "**Updated:** October 12, 2025",
        "**Context:** Transfer/Receive Module Database Queries",
        "**Purpose:** All products available for sale and transfer"
      ],
      "mtime": 1760294338
    },
    {
      "path": "docs/knowledge-base/cross-reference-index.md",
      "title": "cross-reference-index",
      "headings": [
        "Cross-Reference Index",
        "Api endpoints",
        "Controllers"
      ],
      "tags": [
        "docs",
        "documentation"
      ],
      "snippets": [
        "**Generated**: 2025-10-12 19:19:24",
        "- **consignments**: 9",
        "- **inventory**: 5"
      ],
      "mtime": 1760249964
    },
    {
      "path": "docs/knowledge-base/decisions/DECISIONS_LOG.md",
      "title": "DECISIONS_LOG",
      "headings": [
        "Project Decisions Log",
        "October 12, 2025",
        "‚úÖ DECISION: Use Wrapper Template Approach",
        "‚úÖ DECISION: Rename `_base/` to `base/`",
        "‚úÖ DECISION: Strict Module Detection",
        "‚úÖ DECISION: Auto-Cleanup in Knowledge Base",
        "‚úÖ DECISION: One Master Documentation File",
        "Decision Template (For Future Use)",
        "‚úÖ/‚ùå DECISION: [Title]"
      ],
      "tags": [
        "docs",
        "documentation"
      ],
      "snippets": [
        "**Purpose:** Track all architectural and technical decisions with rationale",
        "---",
        "**Context:** Template was recreating entire CIS UI (header, sidebar, footer)"
      ],
      "mtime": 1760275309
    },
    {
      "path": "docs/knowledge-base/integrations/EXTERNAL_SYSTEMS.md",
      "title": "EXTERNAL_SYSTEMS",
      "headings": [
        "Integration Patterns & External Systems",
        "1. CIS Template System (UI Components)",
        "Location",
        "Integration Pattern",
        "Variables Required",
        "External Dependencies",
        "2. Database Connection (`/app.php`)",
        "Factory Function",
        "Module Wrapper",
        "Environment Variables",
        "Key Tables",
        "3. Session Management (`/app.php`)",
        "Auto-Started Sessions",
        "Available Session Variables",
        "Authentication Check",
        "CIS Auth Functions",
        "4. Vend API Integration",
        "Connection Details",
        "Common Endpoints Used",
        "Sync Pattern",
        "Tables Synced",
        "5. Navigation Menu (Sidebar)",
        "Dynamic Menu",
        "Integration",
        "6. Logging System",
        "CIS Logger",
        "Module Logger",
        "7. Error Reporting",
        "Production Errors",
        "Error Handler Integration",
        "8. Queue System (Future)",
        "Planned Integration",
        "Integration Checklist"
      ],
      "tags": [
        "docs",
        "documentation"
      ],
      "snippets": [
        "**Purpose:** Document how modules integrate with external CIS systems",
        "---",
        "```"
      ],
      "mtime": 1760275310
    },
    {
      "path": "docs/knowledge-base/lessons-learned/LESSONS_LEARNED.md",
      "title": "LESSONS_LEARNED",
      "headings": [
        "Lessons Learned - Development Notes",
        "Template & UI",
        "‚ùå Lesson: Don't Recreate External Components",
        "‚ùå Lesson: Underscore Prefix Not Standard for Directories",
        "Knowledge Base & Documentation",
        "‚ùå Lesson: Multiple Docs Cause Confusion",
        "‚ùå Lesson: Auto-Scanners Need Strict Rules",
        "Database & Sessions",
        "‚ùå Lesson: Don't Assume Sessions Are Started",
        "‚ùå Lesson: Global Functions Can Be Hard to Track",
        "Routing & Controllers",
        "‚ùå Lesson: Base Path Must Match URL Structure",
        "Auto-Cleanup & Maintenance",
        "‚úÖ Lesson: Auto-Cleanup Needs Protection",
        "‚úÖ Lesson: Empty Dirs Can Accumulate",
        "Performance & Optimization",
        "üí° Lesson: File Size Matters for AI Search",
        "Testing & Debugging",
        "üí° Lesson: Health Check Endpoints Are Essential",
        "üí° Lesson: Bot Bypass for Testing",
        "Code Quality",
        "üí° Lesson: Lint Early, Lint Often",
        "File Corruption",
        "‚ùå Lesson: File Editors Can Corrupt Files",
        "1. Backup",
        "2. Remove",
        "3. Recreate using heredoc (safer than editors)",
        "4. Verify",
        "Gotchas to Remember",
        "1. **Cloudways Paths**",
        "2. **NZ Timezone**",
        "3. **CoreUI v2 + Bootstrap 4.2**",
        "4. **Session Cookie Settings**",
        "5. **PSR-4 Autoloading**",
        "Questions to Ask Before Coding"
      ],
      "tags": [
        "docs",
        "documentation"
      ],
      "snippets": [
        "**Purpose:** Capture mistakes, gotchas, and \"I wish I knew that earlier\" moments",
        "---",
        "**What Happened:** Original template recreated entire CIS UI (header, sidebar, footer) - 418 lines o"
      ],
      "mtime": 1760275761
    },
    {
      "path": "docs/knowledge-base/transfers/BASE_TRANSFER_COMPLETION_GUIDE.md",
      "title": "BASE_TRANSFER_COMPLETION_GUIDE",
      "headings": [
        "BASE Transfer Template - System Integration Guide",
        "üöÄ Complete Product Ready for Deployment",
        "üìã What's Been Delivered",
        "‚úÖ Core Template (`base-transfer.php`)",
        "‚úÖ Enterprise-Grade CSS (`css/base-transfer.css`)",
        "‚úÖ Advanced JavaScript (`js/base-transfer.js`)",
        "‚úÖ Backend API Integration",
        "üéØ Key Features & Benefits",
        "üîß Technical Excellence",
        "üé® Design Leadership",
        "‚ö° Business Value",
        "üîå Lightspeed Integration Status",
        "‚úÖ Ready Components",
        "üîÑ Integration Points",
        "üìÅ File Structure Summary",
        "üöÄ Deployment Instructions",
        "Step 1: Copy Files to Production",
        "Copy template",
        "Copy assets",
        "Update API (backup first!)",
        "Step 2: Database Verification",
        "Step 3: Configuration",
        "Step 4: Testing Checklist",
        "üéØ Usage Examples",
        "URL Patterns",
        "General stock transfers",
        "Juice/e-liquid transfers",
        "Staff personal orders",
        "Supplier purchase orders",
        "Integration Examples",
        "üîÆ Future Enhancements (Ready to Build)",
        "Phase 2: Advanced Features",
        "Phase 3: Mode-Specific Features",
        "Phase 4: Enterprise Features",
        "üéâ Conclusion",
        "üìû Support & Maintenance",
        "Monitoring Points",
        "Logs to Monitor",
        "Key Performance Indicators"
      ],
      "tags": [
        "docs",
        "documentation"
      ],
      "snippets": [
        "Your BASE Transfer Template is now **100% complete** and ready for Lightspeed Queue integration. Thi",
        "---",
        "- **Universal HTML Structure**: Works for GENERAL, JUICE, STAFF, SUPPLIER modes"
      ],
      "mtime": 1760287173
    },
    {
      "path": "docs/knowledge-base/transfers/FREIGHT_SYSTEM_ANALYSIS.md",
      "title": "FREIGHT_SYSTEM_ANALYSIS",
      "headings": [
        "üöö FREIGHT & CARRIER SYSTEM - COMPREHENSIVE ANALYSIS",
        "üìã SYSTEM OVERVIEW",
        "üóÑÔ∏è **CORE DATABASE SCHEMA ANALYSIS**",
        "**1. Product Dimensioning & Classification**",
        "**Product Weight & Dimensions**",
        "**Sophisticated Fallback Hierarchy**",
        "**2. Carrier & Container Infrastructure**",
        "**Carrier Management**",
        "**Dynamic Pricing System**",
        "**3. Transfer Integration Points**",
        "**Transfer Tables (Core System)**",
        "**User & Permission System**",
        "üß† **FREIGHT CALCULATION ENGINE**",
        "**1. CisFreight Class - Core API**",
        "**Primary Methods**",
        "**Smart Input Validation**",
        "**Container Selection Algorithm**",
        "**2. BoxAllocationService - AI Packing**",
        "**Sophisticated Auto-Sorting**",
        "**Product Compatibility Rules**",
        "**Box Templates**",
        "**3. CarrierContainerOptimizer - Cost Optimization**",
        "**Multi-Pass Optimization**",
        "**Utilization Scoring**",
        "üéØ **KEY INTEGRATION POINTS FOR BASE TEMPLATE**",
        "**1. Product Weight Resolution**",
        "**2. Freight Cost Calculation**",
        "**3. Container Selection UI**",
        "üìä **CRITICAL MYSQL VIEWS FOR BASE TEMPLATE**",
        "**1. v_product_pack_profile**",
        "**2. v_carrier_container_prices**",
        "**3. v_freight_rules_catalog**",
        "üö® **GOTCHAS & CRITICAL NOTES**",
        "**Database Column Names (EXACT)**",
        "**Weight Units Consistency**",
        "**Container Code Standards**",
        "üéØ **BASE TEMPLATE INTEGRATION STRATEGY**",
        "**1. Freight Panel Enhancement**",
        "**2. Smart Validation**",
        "**3. Mode-Specific Behavior**",
        "üöÄ **READY FOR BASE TEMPLATE IMPLEMENTATION**"
      ],
      "tags": [
        "docs",
        "documentation"
      ],
      "snippets": [
        "**Advanced Product Sizing, Categorization & Freight Calculation System**",
        "**Date:** October 12, 2025",
        "**Purpose:** Deep understanding of sophisticated freight calculation infrastructure"
      ],
      "mtime": 1760285784
    },
    {
      "path": "docs/knowledge-base/transfers/TRANSFER_DATABASE_SCHEMA.md",
      "title": "TRANSFER_DATABASE_SCHEMA",
      "headings": [
        "Transfer System Database Schema",
        "üìã Table of Contents",
        "üéØ System Overview",
        "What This System Does",
        "4 Transfer Modes",
        "Architecture Highlights",
        "üì¶ Core Transfer Tables",
        "`transfers` (Main Entity)",
        "`transfer_items` (Product Lines)",
        "üöö Transfer Lifecycle Tables",
        "`transfer_shipments` (Partial Shipments)",
        "`transfer_parcels` (Box-Level Tracking)",
        "`transfer_shipment_items` (Wave Items)",
        "`transfer_parcel_items` (Box Contents)",
        "üß† AI & Analytics Tables",
        "`transfer_ai_audit_log` (AI Decision Tracking)",
        "`transfer_ai_insights` (GPT/Claude Insights)",
        "`transfer_behavior_patterns` (ML Features)",
        "üìä Logging & Audit Tables",
        "`transfer_unified_log` (Central Event Log)",
        "`transfer_audit_log` (Compliance Audit)",
        "`transfer_log_archive` (Historical Archive)",
        "‚ö° Queue & Performance Tables",
        "`transfer_queue_log` (Vend Sync Queue)",
        "`transfer_performance_metrics` (Aggregated Metrics)",
        "`transfer_session_analytics` (User Session Metrics)",
        "üì∏ Media & Upload Tables",
        "`transfer_media` (Photos/Videos)",
        "`transfer_upload_tokens` (Secure Upload Links)",
        "‚úÖ Validation & Configuration Tables",
        "`transfer_validation_cache` (Validation Results Cache)",
        "`transfer_configurations` (Allocation Config)",
        "üîÑ Transfer Modes (Detailed)",
        "Mode 1: GENERAL (Standard Stock)",
        "Mode 2: JUICE (E-Liquid Compliance)",
        "Mode 3: STAFF (Employee Orders)",
        "Mode 4: AUTOMATED (AI-Driven)",
        "üîó Table Relationships",
        "Entity Relationship Diagram (Simplified)",
        "Key Relationships",
        "üîç Key Indexes",
        "High-Traffic Query Patterns",
        "Composite Index Strategy",
        "üìà Performance Considerations",
        "Table Sizes (Current Production)",
        "Optimization Strategies",
        "üõ°Ô∏è Security & Compliance",
        "Data Protection",
        "Regulatory Compliance",
        "üìù Notes for Developers",
        "Common Patterns",
        "Performance Tips",
        "üöÄ Future Enhancements",
        "Planned Improvements",
        "üìö Related Documentation"
      ],
      "tags": [
        "docs",
        "documentation"
      ],
      "snippets": [
        "**Complete Table Documentation**",
        "**Last Updated:** October 12, 2025",
        "**Status:** Production Schema v2.0"
      ],
      "mtime": 1760285783
    },
    {
      "path": "docs/knowledge-base/transfers/TRANSFER_SYSTEM_MASTER_GUIDE.md",
      "title": "TRANSFER_SYSTEM_MASTER_GUIDE",
      "headings": [
        "üéØ TRANSFER SYSTEM MASTER GUIDE",
        "üìã Table of Contents",
        "üéØ System Overview",
        "**What This System Does**",
        "**Architecture Principles**",
        "üì¶ Core Objects & Mapping",
        "**1. Stock Transfer (outlet‚Üíoutlet)**",
        "**2. Supplier Purchase Order (HQ‚Üísupplier)**",
        "**3. Inventory Mirrors & Outlets**",
        "**4. Stock Corrections**",
        "üîå Lightspeed (Vend) Consignment Model",
        "**What It Is**",
        "**Status Workflows**",
        "**OUTLET Workflow (transfers)**",
        "**SUPPLIER Workflow (POs)**",
        "**Where It's Great**",
        "**Where It's Prickly**",
        "üîÑ 4 Transfer Modes",
        "**Mode 1: GENERAL (stock)**",
        "**Mode 2: JUICE**",
        "**Mode 3: STAFF**",
        "**Mode 4: SUPPLIER**",
        "üìã Complete Lifecycles",
        "**A) Stock Transfer (Pack ‚Üí Receive)**",
        "**1. Draft (Create Header & Lines)**",
        "**2. Open (Lock & Pick)**",
        "**3. Pack & Dispatch**",
        "Create OUTLET consignment",
        "Add products/quantities",
        "**4. Partial Receive(s)**",
        "**5. Complete**",
        "**B) Staff Transfers (Special Workflow)**",
        "**C) Supplier PO (Create ‚Üí Multi-delivery ‚Üí Finalize)**",
        "**1. Create PO in CIS**",
        "**2. Send to Supplier / Lightspeed**",
        "If pushing to Lightspeed as SUPPLIER",
        "**3. Receive Deliveries (Partial Allowed)**",
        "**4. Finalize**",
        "Only when all deliveries complete",
        "üìä Page-by-Page Feature Checklists",
        "**A) Transfers ‚Ä∫ Pack**",
        "**Pick & Pack Grid**",
        "**Carton Builder**",
        "**Labeling/Manifest Hooks**",
        "**Error Handling**",
        "**Session Management**",
        "**State Controls**",
        "**B) Transfers ‚Ä∫ Receive**",
        "**Fast Scan Mode**",
        "**Exceptions Panel**",
        "**Partial Completion**",
        "**Quick Actions**",
        "**C) Transfers ‚Ä∫ Outlet Board (Store View)**",
        "**Inbound Pane**",
        "**Outbound Pane**",
        "**Quick Actions**",
        "**Filtering**",
        "**D) Transfers ‚Ä∫ Management (HQ View)**",
        "**Executive Rollups**",
        "**Bulk Operations**",
        "**Drill-Down Path**",
        "**E) POs ‚Ä∫ Receive**",
        "**Slip Capture**",
        "**Multi-Delivery Interface**",
        "**Discrepancy Tools**",
        "**Finalization**",
        "üéõÔ∏è Dashboard Specifications",
        "**Outlet-Only Dashboard**",
        "**Today's Actions Panel**",
        "**Scan & Go Panel**",
        "**SLA Countdown**",
        "**Device Optimization**",
        "**Management-Only Dashboard**",
        "**Network Heatmap**",
        "**Exception Leaderboards**",
        "**Carrier Scorecard**",
        "**Sync Health Monitor**",
        "‚ö†Ô∏è Production Gotchas",
        "**1. Status Mapping Drift**",
        "**2. Finality Rules**",
        "**3. Partial Receipt Timing**",
        "**4. Eventual Consistency**",
        "**5. Consignment Stock Isolation**",
        "üîå API Playbook",
        "**Create OUTLET Transfer**",
        "1. Create consignment",
        "2. Add products",
        "3. Mark sent (or dispatched)",
        "4. Receive products (when ready)",
        "5. Finalize (IMMUTABLE after this!)",
        "**Create SUPPLIER Order**",
        "1. Create supplier consignment",
        "2. Add order lines",
        "3. Send to supplier",
        "4. Multi-delivery receipts (repeat as needed)",
        "5. Finalize when complete (IMMUTABLE!)",
        "**Useful Helper Endpoints**",
        "List products on consignment",
        "Get consignment totals for audit",
        "Bulk product operations (up to 500 products)",
        "üéØ Summary"
      ],
      "tags": [
        "docs",
        "documentation"
      ],
      "snippets": [
        "**Complete Business Logic & Implementation Reference**",
        "**Last Updated:** October 12, 2025",
        "**Status:** Definitive Reference Document"
      ],
      "mtime": 1760285784
    },
    {
      "path": "docs/knowledge-base/transfers/TRANSFER_TEMPLATE_ANALYSIS.md",
      "title": "TRANSFER_TEMPLATE_ANALYSIS",
      "headings": [
        "üéØ TRANSFER TEMPLATE ANALYSIS & BASE MVP DESIGN",
        "üìä EXISTING TEMPLATE ANALYSIS",
        "**Templates Analyzed:**",
        "üé® **DESIGN ELEMENTS INVENTORY**",
        "**Common UI Patterns**",
        "**1. Layout Structure**",
        "**2. Card Header Pattern**",
        "**3. Transfer Info Box**",
        "**Advanced UI Features Found**",
        "**1. Row Color System (receive-stock-transfer.php)**",
        "**2. Input Validation Patterns**",
        "**3. Modal Systems**",
        "**4. Session Management**",
        "**Freight Management Features**",
        "**1. Delivery Mode Selection**",
        "**2. Box/Carton Tracking**",
        "**3. Evidence Capture**",
        "üöÄ **BASE TRANSFER MVP SPECIFICATION**",
        "**Core Requirements**",
        "**1. Universal Data Flow**",
        "**2. Table Structure (Universal)**",
        "**3. Input Validation System**",
        "**4. Auto-save Implementation**",
        "**Mode-Specific Customizations**",
        "**1. GENERAL (Stock)**",
        "**2. JUICE**",
        "**3. STAFF**",
        "**4. SUPPLIER (PO)**",
        "üéØ **BASE TEMPLATE FEATURES**",
        "**1. Universal Header**",
        "**2. Smart Product Input**",
        "**3. Action Buttons**",
        "**4. Freight Management Panel**",
        "üîß **IMPLEMENTATION ROADMAP**",
        "**Phase 1: BASE Template (Week 1)**",
        "**Phase 2: Core Functionality (Week 2)**",
        "**Phase 3: Mode Customization (Week 3)**",
        "**Phase 4: Advanced Features (Week 4)**",
        "üì± **MOBILE CONSIDERATIONS**",
        "**Responsive Design**",
        "**Productivity Features**",
        "üéØ **SUCCESS CRITERIA**",
        "**Performance Targets**",
        "**User Experience**",
        "**Technical Requirements**",
        "üöÄ **NEXT STEPS**"
      ],
      "tags": [
        "docs",
        "documentation"
      ],
      "snippets": [
        "**Analysis of Existing Templates & BASE Transfer MVP Specification**",
        "**Date:** October 12, 2025",
        "**Purpose:** Create unified BASE template for 4 transfer modes"
      ],
      "mtime": 1760285784
    },
    {
      "path": "docs/memory/AI_MEMORY.md",
      "title": "AI_MEMORY",
      "headings": [
        "AI Memory System - Session Context",
        "üß† Recent Decisions (Last 30 Days)",
        "October 12, 2025",
        "üìö Key Patterns Established",
        "1. Template Pattern (FINAL)",
        "2. Database Pattern",
        "3. Session Pattern",
        "4. Routing Pattern",
        "üö® Anti-Patterns (DON'T DO THIS)",
        "‚ùå Recreating CIS Templates",
        "‚ùå Direct PDO Instantiation",
        "‚ùå Manual Session Management",
        "‚ùå SQL Concatenation",
        "üéØ Module Structure Standard",
        "üîç Common Gotchas & Solutions",
        "Issue: \"Class not found\"",
        "Issue: Template not loading",
        "Issue: Routes not working",
        "Issue: Database connection fails",
        "üìù Documentation Philosophy",
        "What to Keep:",
        "What to Delete:",
        "üîÑ Auto-Maintenance Settings",
        "üéì Lessons Learned",
        "Lesson 1: Template Architecture",
        "Lesson 2: Knowledge Base Accuracy",
        "Lesson 3: Module Detection",
        "üöÄ Future Improvements (Ideas)"
      ],
      "tags": [
        "docs",
        "documentation"
      ],
      "snippets": [
        "**Last Updated:** October 12, 2025",
        "**Purpose:** Track decisions, changes, and context across coding sessions",
        "---"
      ],
      "mtime": 1760275309
    },
    {
      "path": "docs/troubleshooting/database-access-resolution.md",
      "title": "database-access-resolution",
      "headings": [
        "Database Access Resolution - Critical Discoveries",
        "Problem Summary",
        "Root Cause Analysis",
        "1. App.php Dependency Chain",
        "2. Database Connection Architecture",
        "Solution Implementation",
        "1. Independent Database Class",
        "2. Module Bootstrap Integration",
        "3. API File Updates",
        "Critical Discoveries",
        "1. Environment File Location",
        "2. Database Configuration",
        "3. Session Management",
        "4. Module Independence Requirements",
        "Files Requiring Updates",
        "Testing Validation",
        "Database Connection Test",
        "Test database connectivity",
        "Expected Success Response",
        "Performance Considerations",
        "1. Singleton Pattern",
        "2. Environment Loading",
        "3. Session Handling",
        "Future Maintenance Notes",
        "1. Database Schema Changes",
        "2. Security Updates",
        "3. Module Expansion",
        "Lessons Learned",
        "Resolution Status"
      ],
      "tags": [
        "docs",
        "documentation"
      ],
      "snippets": [
        "**Date:** October 12, 2025",
        "**Context:** Transfer/Receive Module Independence Project",
        "**Status:** RESOLVED - Independent Database Access Working"
      ],
      "mtime": 1760292535
    }
  ],
  "stats": {
    "totalEntries": 28,
    "modules": 1,
    "size": 27319
  }
}