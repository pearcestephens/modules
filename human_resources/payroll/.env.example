# VapeShed Payroll Environment Variables
# Copy this to .env and fill in your actual values
# NEVER commit the actual .env file to git!

# ============================================================================
# EMAIL CONFIGURATION
# ============================================================================

# SendGrid API Key
# Get this from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=your_sendgrid_api_key_here
SENDGRID_API_KEY=

# Example:
# SENDGRID_API_KEY=SG.aBcDeFgHiJkLmNoPqRsTuVwXyZ.1234567890abcdefghijklmnopqrstuvwxyz1234567890

# ============================================================================
# DEPUTY API CONFIGURATION (REQUIRED for timesheet sync)
# ============================================================================

# Deputy API Base URL
# Format: https://your_company.deputy.com/api/v1
# Replace 'your_company' with your Deputy subdomain
DEPUTY_API_BASE_URL=https://vapeshed.deputy.com/api/v1

# Deputy API Token (Bearer token)
# Get this from: Deputy Settings > API > Generate Permanent Token
# NOTE: This is a sensitive credential - treat like a password!
# REQUIRED for: Amendment sync, timesheet creation/updates
DEPUTY_API_TOKEN=your_deputy_api_token_here

# Deputy API Timeout (seconds)
# How long to wait for Deputy API responses (default: 45)
DEPUTY_API_TIMEOUT=45

# Example:
# DEPUTY_API_BASE_URL=https://vapeshed.deputy.com/api/v1
# DEPUTY_API_TOKEN=164c35e82da7af14d6cd8c02ff198f81
# DEPUTY_API_TIMEOUT=45

# ============================================================================
# ENCRYPTION CONFIGURATION (REQUIRED for OAuth token security)
# ============================================================================

# Encryption Key for OAuth tokens (32-byte key, base64-encoded)
# Generate with: php cli/generate_encryption_key.php
# Or manually:   openssl rand -base64 32
# SECURITY: Keep this secret! Anyone with this key can decrypt OAuth tokens.
# REQUIRED for: Xero OAuth token encryption at rest
ENCRYPTION_KEY=your_base64_encoded_32_byte_encryption_key_here

# Example:
# ENCRYPTION_KEY=3kN9L2mP8qR5sT6vW7xY1zA2bC4dE5fG6hI7jK8lM9nO0pQ1rS2t=

# ============================================================================
# XERO API CONFIGURATION
# ============================================================================

# Xero uses OAuth2 with certificate-based authentication (Private App)
# Credentials are managed in: assets/functions/xeroAPI/xeroCredentialsEcigdis.php
# Certificate files:
#   - Private Key: assets/functions/xeroAPI/certs/privatekey_ecig.pem
#   - Public Key:  assets/functions/xeroAPI/certs/publickey_ecig.cer
#
# NO environment variables needed for Xero - it uses certificate auth
# Consumer Key: 3IF7NH5MGURJIPI1PRRVOMX2KVZJHX (hardcoded in credentials file)

# ============================================================================
# DATABASE CONFIGURATION (REQUIRED)
# ============================================================================

# Database credentials are REQUIRED for the application to function.
# These MUST be set in your .env file or server environment.
# The application will FAIL FAST if these are missing.

# Primary CIS Database
DB_HOST=127.0.0.1
DB_NAME=jcepnzzkmj
DB_USER=jcepnzzkmj
DB_PASSWORD=your_database_password_here

# VapeShed Database (usually same as CIS)
VAPESHED_DB_HOST=127.0.0.1
VAPESHED_DB_NAME=jcepnzzkmj
VAPESHED_DB_USER=jcepnzzkmj
VAPESHED_DB_PASSWORD=your_database_password_here

# SECURITY NOTE:
# - NEVER commit the actual .env file with real passwords
# - Rotate passwords regularly
# - Use strong, unique passwords for each environment (dev/staging/prod)
# - Store production passwords in secure secrets manager if available
# DB_NAME=jcepnzzkmj
# DB_USER=jcepnzzkmj
# DB_PASSWORD=your_db_password
# DB_CHARSET=utf8mb4

# ============================================================================
# PAYROLL MODULE CONFIGURATION (NEW - November 2, 2025)
# ============================================================================

# Payroll Authentication Flag
# Controls whether authentication is enforced for payroll endpoints
# Values: true (enable auth) | false (disable auth)
# Default: false (disabled for development/testing)
# PRODUCTION: Must be set to 'true'
PAYROLL_AUTH_ENABLED=false

# Payroll Debug Mode
# Enables detailed logging and error output for troubleshooting
# Values: true (debug on) | false (debug off)
# Default: false (disabled)
# WARNING: Never enable in production - exposes sensitive information
PAYROLL_DEBUG_MODE=false

# Payroll Audit Log Retention (days)
# How long to keep authentication toggle audit logs
# Minimum: 365 (12 months for compliance)
# Recommended: 1095 (36 months)
# Default: 1095
PAYROLL_AUDIT_RETENTION_DAYS=1095

# Examples:
# Development/Testing Environment:
# PAYROLL_AUTH_ENABLED=false
# PAYROLL_DEBUG_MODE=true
# PAYROLL_AUDIT_RETENTION_DAYS=365
#
# Production Environment:
# PAYROLL_AUTH_ENABLED=true
# PAYROLL_DEBUG_MODE=false
# PAYROLL_AUDIT_RETENTION_DAYS=1095

# SECURITY NOTES:
# - ALWAYS set PAYROLL_AUTH_ENABLED=true in production
# - NEVER enable PAYROLL_DEBUG_MODE in production
# - Audit logs are required for compliance - do not disable
# - Review audit logs weekly for unauthorized flag changes
# - Document all disable actions in incident management system
